<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>canvas</title>
  <style type="text/css">
  	canvas{
  		border: 1px solid #ccc;
  	}
  </style>
</head>
<body>
<canvas id="canvas" width="600" height="600">canvas not supported</canvas>
<script type="text/javascript" src="js/utils.js"></script>
<script type="text/javascript">
window.onload=function(){
  var canvas=document.getElementById("canvas"),
      context=canvas.getContext("2d"),
      angle=0,
      range=50,
      centerY=canvas.height/2,
      xspeed=1,
      yspeed=0.05,
      xpos=0,
      ypos=centerY;

  context.lineWidth=2;

  (function drawFrame(){
    window.requestAnimationFrame(drawFrame,canvas);

    context.beginPath();
    context.moveTo(xpos,ypos);

    xpos+=xspeed;
    angle+=yspeed;
    ypos=centerY+Math.sin(angle)*range;
    context.lineTo(xpos,ypos);
    context.stroke();
  }());
};
</script>
</body>
</html>