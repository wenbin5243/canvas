<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Bucket</title>

    <style>
      output {
         color: blue;
      }

      .floatingControls {
         background: rgba(0, 0, 0, 0.1);
         border: thin solid skyblue;
         -webkit-box-shadow: rgba(0,0,0,0.3) 2px 2px 4px;
         -moz-box-shadow: rgba(100,140,230,0.5) 2px 2px 6px;
         box-shadow: rgba(100,140,230,0.5) 2px 2px 6px;
         padding: 15px;
         font: 12px Arial;
      }

      #canvas {
         background: skyblue;
         -webkit-box-shadow: 4px 4px 8px rgba(0,0,0,0.5);
         -moz-box-shadow: 4px 4px 8px rgba(0,0,0,0.5);
         box-shadow: 4px 4px 8px rgba(0,0,0,0.5);
         cursor: pointer;
      }

      #scoreboard {
         background: rgba(255,255,255,0.5);
         position: absolute;
         left: 755px;
         top: 20px;
         color: blue;
         font-size: 18px;
         padding: 5px;
      }

      #controls {
         position: absolute;
         left: 285px;
         top: 20px;
      }
    </style>
  </head>

   <body>
      <canvas id='canvas' width='800' height='450'>
         Canvas not supported
      </canvas>

        
<script src='js/requestNextAnimationFrame.js'></script>
<script src='js/sprites.js'></script>               
<script type="text/javascript">
AnimationTimer=function(duration,timeWrap){
  if(timeWrap!==undefined){
    this.timeWrap=timeWrap;
  }
  if(duration!==undefined){
    this.duration=duration;
  }
  this.stopwatch=new StopWatch();
}
AnimationTimer.prototype={
  start:function(){
    this.stopwatch.start();
  },
  stop:function(){
    this.stopwatch.stop();
  },
  getElapsedTime:function(){
    var elapsedTime=this.stopwatch.getElapsedTime(),
        percentComplete=elapsedTime/this.duration;

    if(!this.stopwatch.running){
      return undefined;
    }if(this.timeWrap==undefined){
      return elapsedTime;
    }
    return elapsedTime*(this.timeWrap(percentComplete)/percentComplete);
  },
  isRunning:function(){
    return this.stopwatch.running;
  },
  isOver:function(){
    return this.stopwatch.getElapsedTime()>this.duration;
  },
}

var DEFAULT_ELASTIC_PASSES=3;
AnimationTimer.makeEaseIn=function(strength){
  return function(percentComplete){
    return Math.pow(percentComplete,strength*2);
  };
};

AnimationTimer.makeEaseOut=function(strength){
  return function(percentComplete){
    return 1-Math.pow(1-percentComplete,strength*2);
  };
};
AnimationTimer.makeEaseInOut=function(){
  return function(percentComplete){
    return ((1-Math.cos(percentComplete*Math.PI*passes))*
            (1-percentComplete))+percentComplete;
  };
};
AnimationTimer.makeBounce=function(bounces){
  var fn=AnimationTimer.makeElastic(bounces);
  return function(percentComplete){
    percentComplete=fn(percentComplete);
    return percentComplete<=1?percentComplete:2-percentComplete;
  };
};
AnimationTimer.makeLinear=function(){
  return function(percentComplete){
    return percentComplete;
  };
};
</script>
</body>
</html>